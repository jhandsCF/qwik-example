var un=Object.defineProperty,an=Object.defineProperties;var fn=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var ln=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable;var ue=(t,e,n)=>e in t?un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||(e={}))ln.call(e,n)&&ue(t,n,e[n]);if(ce)for(var n of ce(e))dn.call(e,n)&&ue(t,n,e[n]);return t},it=(t,e)=>an(t,fn(e));const pn=function(){const e=document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),ae={},yn="/",mn=function(e,n){return!n||n.length===0?e():Promise.all(n.map(o=>{if(o=`${yn}${o}`,o in ae)return;ae[o]=!0;const r=o.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":pn,r||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),r)return new Promise((c,u)=>{s.addEventListener("load",c),s.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},v=[],_n={};Object.freeze(v),Object.freeze(_n);const Dt="background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",I=(t,...e)=>{console.error("%cQWIK ERROR",Dt,t,...e)},R=(t,...e)=>{console.warn("%cQWIK WARN",Dt,t,...e)},Z=(t,...e)=>{console.debug("%cQWIK",Dt,t,...e)};function C(t,e){{if(t!=null)return;throw Ie(e||"Expected defined value")}}function x(t,e,n){{if(t===e)return;throw Ie(n||`Expected '${t}' === '${e}'.`)}}function Ie(t){debugger;const e=new Error(t);return I(e),e}const Q="q:host",J="q:renderFn",ke="q:sstyle",hn="\u{1F48E}",gn="\u2B50\uFE0F",vt="q:slot",B="q:obj",Pe="q:seq",$t="q:ctx",ht="q:container",bn="[q\\:obj]",En="[q\\:container]",Ft="qRender",zt="q:id",Wt="#";function A(t){if(typeof document!="undefined")return document;if(t.nodeType===9)return t;let e=t.ownerDocument;for(;e&&e.nodeType!==9;)e=e.parentNode;return C(e),e}const kt=Symbol("container");function Sn(t){return t&&typeof t=="object"&&t.type==="style"}let z;function X(){if(!z){const t=typeof document!="undefined"&&document&&document.__q_context__;if(!t)return;if(Array.isArray(t)){const e=t[0],n=wn(e);return C(e),document.__q_context__=gt(A(e),n,e,t[1],t[2])}return t}return z}function M(){const t=X();if(!t)throw new Error("Q-ERROR: invoking 'use*()' method outside of invocation context.");return t}function Rn(t,e,...n){const o=z;let r;try{z=t,r=e.apply(null,n)}finally{const i=z;if(z=o,i.waitOn&&i.waitOn.length>0)return Promise.all(i.waitOn).then(()=>r)}return r}function gt(t,e,n,o,r){return{seq:0,doc:t,hostElement:e,element:n,event:o,url:r||null,qrl:void 0}}function Cn(t){const e=M();(e.waitOn||(e.waitOn=[])).push(t)}function wn(t){let e=!1,n=t;for(;n;){const o=n.hasAttribute(Q),r=n.tagName==="Q:SLOT";if(o)if(e)e=!1;else break;r&&(e=!0),n=n.parentElement}return n}function bt(t){let e=t[kt];return e||(e=t.closest(En),t[kt]=e),e}function Ut(t){return t instanceof Promise}const S=(t,e,n)=>Ut(t)?t.then(e,n):e(t),tt=t=>t.some(Ut)?Promise.all(t):t;function $(t){return t instanceof et}class On{constructor(e,n,o,r,i,s){this.chunk=e,this.symbol=n,this.symbolRef=o,this.symbolFn=r,this.capture=i,this.captureRef=s}setContainer(e){this.el||(this.el=e)}getSymbol(){var e;return(e=this.refSymbol)!=null?e:this.symbol}getCanonicalSymbol(){var e;return An((e=this.refSymbol)!=null?e:this.symbol)}async resolve(e){return e&&this.setContainer(e),rr(this.el,this)}invokeFn(e,n,o){return(...r)=>{const i=typeof this.symbolRef=="function"?this.symbolRef:this.resolve(e);return S(i,s=>{if(typeof s=="function"){const c=n!=null?n:gt(),u=it(H({},c),{qrl:this});return o&&o(),Rn(u,s,...r)}throw new Error("QRL is not a function")})}}copy(){const e=new et(this.chunk,this.symbol,this.symbolRef,this.symbolFn,null,this.captureRef);return e.refSymbol=this.refSymbol,e}async invoke(...e){return await this.invokeFn()(...e)}serialize(e){return ie(this,e)}}const An=t=>{const e=t.lastIndexOf("_");return e>-1?t.slice(e+1):t},Nn=(t,e)=>t.getCanonicalSymbol()===e.getCanonicalSymbol(),et=On,In=t=>{const e=new Map;return{isServer:!1,importSymbol(n,o,r){const i=Mn(t,n,o).toString(),s=new URL(i);s.hash="",s.search="";const c=s.href,u=e.get(c);return u?u[r]:mn(()=>import(c),[]).then(a=>(a=kn(a),e.set(c,a),a[r]))},raf:n=>new Promise(o=>{requestAnimationFrame(()=>{o(n())})}),nextTick:n=>new Promise(o=>{setTimeout(()=>{o(n())})}),chunkForSymbol(){}}};function kn(t){return Object.values(t).find(Pn)||t}function Pn(t){return typeof t=="object"&&t&&t[Symbol.toStringTag]==="Module"}function Mn(t,e,n){var i;const o=bt(e),r=new URL((i=o==null?void 0:o.getAttribute("q:base"))!=null?i:t.baseURI,t.baseURI);return new URL(n,r)}const nt=t=>{const e=A(t);return e[fe]||(e[fe]=In(e))},fe=Symbol();function le(t){return t?t.nodeType===L.ELEMENT_NODE:!1}var L;(function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",t[t.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE",t[t.DOCUMENT_NODE=9]="DOCUMENT_NODE",t[t.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",t[t.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(L||(L={}));function Tn(t){return t==null?String(t):typeof t=="function"?t.name:le(t)?de(t):t instanceof URL?String(t):typeof t=="object"?JSON.stringify(t,function(e,n){return le(n)?de(n):n}):String(t)}function de(t){let e="<"+t.localName;const n=t.attributes,o=[];for(let r=0;r<n.length;r++)o.push(n[r].name);o.sort();for(let r=0;r<o.length;r++){const i=o[r];let s=t.getAttribute(i);s!=null&&s.startsWith("file:/")&&(s=s.replace(/(file:\/\/).*(\/.*)$/,(c,u,a)=>u+"..."+a)),e+=" "+i+(s==null||s==""?"":"='"+s.replace("'","&apos;")+"'")}return e+">"}var y;(function(t){t[t.TODO=0]="TODO",t[t.Core_qConfigNotFound_path=1]="Core_qConfigNotFound_path",t[t.Core_unrecognizedStack_frame=2]="Core_unrecognizedStack_frame",t[t.Core_noAttribute_atr1_element=3]="Core_noAttribute_atr1_element",t[t.Core_noAttribute_atr1_attr2_element=4]="Core_noAttribute_atr1_attr2_element",t[t.Core_missingProperty_name_props=5]="Core_missingProperty_name_props",t[t.Core_missingExport_name_url_props=6]="Core_missingExport_name_url_props",t[t.QRL_expectFunction_url_actual=100]="QRL_expectFunction_url_actual",t[t.Injector_noHost_element=200]="Injector_noHost_element",t[t.Injector_expectedSpecificInjector_expected_actual=201]="Injector_expectedSpecificInjector_expected_actual",t[t.Injector_notElement_arg=202]="Injector_notElement_arg",t[t.Injector_wrongMethodThis_expected_actual=203]="Injector_wrongMethodThis_expected_actual",t[t.Injector_missingSerializedState_entityKey_element=204]="Injector_missingSerializedState_entityKey_element",t[t.Injector_notFound_element=206]="Injector_notFound_element",t[t.Injector_eventInjectorNotSerializable=207]="Injector_eventInjectorNotSerializable",t[t.Entity_notValidKey_key=300]="Entity_notValidKey_key",t[t.Entity_keyAlreadyExists_key=301]="Entity_keyAlreadyExists_key",t[t.Entity_invalidAttribute_name=303]="Entity_invalidAttribute_name",t[t.Entity_missingExpandoOrState_attrName=304]="Entity_missingExpandoOrState_attrName",t[t.Entity_elementMissingEntityAttr_element_attr=305]="Entity_elementMissingEntityAttr_element_attr",t[t.Entity_noState_entity_props=306]="Entity_noState_entity_props",t[t.Entity_expected_obj=307]="Entity_expected_obj",t[t.Entity_overridesConstructor_entity=308]="Entity_overridesConstructor_entity",t[t.Entity_keyMissingParts_key_key=309]="Entity_keyMissingParts_key_key",t[t.Entity_no$type_entity=310]="Entity_no$type_entity",t[t.Entity_no$keyProps_entity=311]="Entity_no$keyProps_entity",t[t.Entity_no$qrl_entity=312]="Entity_no$qrl_entity",t[t.Entity_nameCollision_name_currentQrl_expectedQrl=313]="Entity_nameCollision_name_currentQrl_expectedQrl",t[t.Entity_keyTooManyParts_entity_parts_key=314]="Entity_keyTooManyParts_entity_parts_key",t[t.Entity_keyNameMismatch_key_name_entity_name=315]="Entity_keyNameMismatch_key_name_entity_name",t[t.Entity_stateMissingKey_state=316]="Entity_stateMissingKey_state",t[t.Component_bindNeedsKey=400]="Component_bindNeedsKey",t[t.Component_bindNeedsValue=401]="Component_bindNeedsValue",t[t.Component_needsState=402]="Component_needsState",t[t.Component_needsInjectionContext_constructor=403]="Component_needsInjectionContext_constructor",t[t.Component_noProperty_propName_props_host=404]="Component_noProperty_propName_props_host",t[t.Component_notFound_component=405]="Component_notFound_component",t[t.Component_doesNotMatch_component_actual=406]="Component_doesNotMatch_component_actual",t[t.Component_noState_component_props=408]="Component_noState_component_props",t[t.Provider_unrecognizedFormat_value=500]="Provider_unrecognizedFormat_value",t[t.Render_unexpectedJSXNodeType_type=600]="Render_unexpectedJSXNodeType_type",t[t.Render_unsupportedFormat_obj_attr=601]="Render_unsupportedFormat_obj_attr",t[t.Render_expectingEntity_entity=602]="Render_expectingEntity_entity",t[t.Render_expectingEntityArray_obj=603]="Render_expectingEntityArray_obj",t[t.Render_expectingEntityOrComponent_obj=604]="Render_expectingEntityOrComponent_obj",t[t.Render_stateMachineStuck=699]="Render_stateMachineStuck",t[t.Event_emitEventRequiresName_url=700]="Event_emitEventRequiresName_url",t[t.Event_emitEventCouldNotFindListener_event_element=701]="Event_emitEventCouldNotFindListener_event_element"})(y||(y={}));function Me(t,...e){{const o=xn(t).split("{}"),r=o.map((i,s)=>i+(s===o.length-1?"":Tn(e[s]))).join("");debugger;return new Error(r)}}function xn(t){const e={0:"ERROR",1:"QRL-ERROR",2:"INJECTOR-ERROR",3:"SERVICE-ERROR",4:"COMPONENT-ERROR",5:"PROVIDER-ERROR",6:"RENDER-ERROR",7:"EVENT-ERROR"}[Math.floor(t/100)],n={[y.TODO]:"{}",[y.Core_qConfigNotFound_path]:"QConfig not found in path '{}'.",[y.Core_unrecognizedStack_frame]:"Unrecognized stack format '{}'",[y.Core_noAttribute_atr1_element]:"Could not find entity state '{}' at '{}' or any of it's parents.",[y.Core_noAttribute_atr1_attr2_element]:"Could not find entity state '{}' ( or entity provider '{}') at '{}' or any of it's parents.",[y.Core_missingProperty_name_props]:"Missing property '{}' in props '{}'.",[y.Core_missingExport_name_url_props]:"Missing export '{}' from '{}'. Exported symbols are: {}",[y.QRL_expectFunction_url_actual]:"QRL '${}' should point to function, was '{}'.",[y.Injector_noHost_element]:"Can't find host element above '{}'.",[y.Injector_expectedSpecificInjector_expected_actual]:"Provider is expecting '{}' but got '{}'.",[y.Injector_notElement_arg]:"Expected 'Element' was '{}'.",[y.Injector_wrongMethodThis_expected_actual]:"Expected injection 'this' to be of type '{}', but was of type '{}'.",[y.Injector_missingSerializedState_entityKey_element]:"Entity key '{}' is found on '{}' but does not contain state. Was 'serializeState()' not run during dehydration?",[y.Injector_notFound_element]:"No injector can be found starting at '{}'.",[y.Injector_eventInjectorNotSerializable]:"EventInjector does not support serialization.",[y.Entity_notValidKey_key]:`Data key '{}' is not a valid key.
  - Data key can only contain characters (preferably lowercase) or number
  - Data key is prefixed with entity name
  - Data key is made up from parts that are separated with ':'.`,[y.Entity_keyAlreadyExists_key]:"A entity with key '{}' already exists.",[y.Entity_invalidAttribute_name]:"'{}' is not a valid attribute. Attributes can only contain 'a-z' (lowercase), '0-9', '-' and '_'.",[y.Entity_missingExpandoOrState_attrName]:"Found '{}' but expando did not have entity and attribute did not have state.",[y.Entity_elementMissingEntityAttr_element_attr]:"Element '{}' is missing entity attribute definition '{}'.",[y.Entity_noState_entity_props]:"Unable to create state for entity '{}' with props '{}' because no state found and '$newState()' method was not defined on entity.",[y.Entity_expected_obj]:"'{}' is not an instance of 'Entity'.",[y.Entity_overridesConstructor_entity]:"'{}' overrides 'constructor' property preventing 'EntityType' retrieval.",[y.Entity_no$keyProps_entity]:"Entity '{}' does not define '$keyProps'.",[y.Entity_no$type_entity]:"Entity '{}' must have static '$type' property defining the name of the entity.",[y.Entity_no$qrl_entity]:"Entity '{}' must have static '$qrl' property defining the import location of the entity.",[y.Entity_nameCollision_name_currentQrl_expectedQrl]:"Name collision. Already have entity named '{}' with QRL '{}' but expected QRL '{}'.",[y.Entity_keyMissingParts_key_key]:"Entity key '{}' is missing values. Expecting '{}:someValue'.",[y.Entity_keyTooManyParts_entity_parts_key]:"Entity '{}' defines '$keyProps' as  '{}'. Actual key '{}' has more parts than entity defines.",[y.Entity_keyNameMismatch_key_name_entity_name]:"Key '{}' belongs to entity named '{}', but expected entity '{}' with name '{}'.",[y.Entity_stateMissingKey_state]:"Entity state is missing '$key'. Are you sure you passed in state? Got '{}'.",[y.Component_bindNeedsKey]:`'bind:' must have an key. (Example: 'bind:key="propertyName"').`,[y.Component_bindNeedsValue]:`'bind:id' must have a property name. (Example: 'bind:key="propertyName"').`,[y.Component_needsState]:"Can't find state on host element.",[y.Component_needsInjectionContext_constructor]:"Components must be instantiated inside an injection context. Use '{}.new(...)' for creation.",[y.Component_noProperty_propName_props_host]:"Property '{}' not found in '{}' on component '{}'.",[y.Component_notFound_component]:"Unable to find '{}' component.",[y.Component_doesNotMatch_component_actual]:"Requesting component type '{}' does not match existing component instance '{}'.",[y.Component_noState_component_props]:"Unable to create state for component '{}' with props '{}' because no state found and '$newState()' method was not defined on component.",[y.Provider_unrecognizedFormat_value]:"Unrecognized expression format '{}'.",[y.Render_unexpectedJSXNodeType_type]:"Unexpected JSXNode<{}> type.",[y.Render_unsupportedFormat_obj_attr]:"Value '{}' can't be written into '{}' attribute.",[y.Render_expectingEntity_entity]:"Expecting entity object, got '{}'.",[y.Render_expectingEntityArray_obj]:"Expecting array of entities, got '{}'.",[y.Render_expectingEntityOrComponent_obj]:"Expecting Entity or Component got '{}'.",[y.Render_stateMachineStuck]:"Render state machine did not advance.",[y.Event_emitEventRequiresName_url]:"Missing '$type' attribute in the '{}' url.",[y.Event_emitEventCouldNotFindListener_event_element]:"Re-emitting event '{}' but no listener found at '{}' or any of its parents."}[t];let o="000"+t;return o=o.slice(-3),`${e}(Q-${o}): ${n}`}function Et(t){return t&&typeof t.nodeType=="number"}function Pt(t){return t&&t.nodeType==L.DOCUMENT_NODE}function St(t){return Et(t)&&t.nodeType==L.ELEMENT_NODE}function Ln(t){return sn(t)}function Rt(){const t=M().hostElement;return C(t),t}function qn(){const t=M().doc;if(!t)throw new Error("Cant access document for existing context");return t}function fr(t){const[e,n]=Ct(),o=Rt();if(e!=null)return Y(e,o);const r=typeof t=="function"?t():t,i=Bo(r,Nt(qn()));return n(i),Y(i,o)}function Ct(){const t=M();x(t.event,Ft);const e=t.seq,n=Rt(),o=w(n);t.seq++;const r=s=>{o.seq[e]=o.refMap.add(s)},i=o.seq[e];return typeof i=="number"?[o.refMap.get(i),r]:[void 0,r]}function Dn(t,e){return String(e.refMap.add(t))}function vn(t,e){const n=parseInt(t,10),o=e.refMap.get(n);return x(e.refMap.array.length>n,!0),o}function $n(){const t=M().url;if(!t)throw new Error("Q-ERROR: no URL is associated with the execution context");return t}function Fn(){var r;const t=M(),e=t.hostElement,n=(r=t.qrl)!=null?r:se(decodeURIComponent(String($n())),e);if(n.captureRef==null){const i=t.element;C(i),ze(bt(i));const s=w(i);n.captureRef=n.capture.map(c=>vn(c,s))}const o=t.subscriber;return o?n.captureRef.map(i=>Y(i,o)):n.captureRef}var k;(function(t){t[t.IsDirty=1]="IsDirty",t[t.IsCleanup=2]="IsCleanup"})(k||(k={}));const jt=t=>t&&typeof t=="object"&&"qrl"in t&&"f"in t,zn=t=>jt(t)&&!!(t.f&k.IsCleanup);function lr(){const[t]=Fn();tn(t)}function pe(t){if(!(t.f&k.IsDirty))return Z("Watch is not dirty, skipping run",t),Promise.resolve(t);t.f&=~k.IsDirty;const e=new Promise(n=>{S(t.running,()=>{Te(t);const o=t.el,r=gt(A(o),o,o,"WatchEvent"),i=t.qrl.invokeFn(o,r,()=>{const c=t.qrl.captureRef;Array.isArray(c)&&c.forEach(u=>{Qe(u,t)})});return S(i((c,u)=>(c[mt]=t,u?c[u]:c[Ze])),c=>{typeof c=="function"&&(t.destroy=Ae(c)),n(t)})})});return t.running=Ae(e),e}const Te=t=>{const e=t.destroy;if(e){t.destroy=void 0;try{e()}catch(n){I(n)}}},xe=t=>{t.f&k.IsCleanup?(t.f&=~k.IsCleanup,t.qrl.invokeFn(t.el)()):Te(t)},Wn=(t,e,n,o)=>{t&&typeof CustomEvent=="function"&&t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:o,composed:o}))},Le="",qe="",De="";function Un(t){if(!$e(t)){R("Skipping hydration because parent element is not q:container");return}const e=A(t),o=t===e.documentElement?e.body:t,r=Hn(o);if(!r){R("Skipping hydration qwik/json metadata was not found.");return}r.remove();const i=Nt(e),s=JSON.parse(Gn(r.textContent||"{}")),c=new Map;Mt(t,Zn).forEach(a=>{const d=a.getAttribute(zt);c.set(Wt+d,a)});const u=a=>Vn(a,c,s.objs,i);Kn(s.objs,s.subs,u,i,o);for(const a of s.objs)Tt(a,u);Mt(t,Fe).forEach(a=>{const d=a.getAttribute(B);if(d==="")return;const p=a.getAttribute(Pe),_=a.getAttribute(Q),m=a.getAttribute($t),h=w(a);if(d.split(" ").forEach(b=>{if(b!==""){const g=u(b);h.refMap.add(g)}else I("QObj contains empty ref")}),h.seq=p.split(" ").map(b=>at(b)),_){const[b,g]=_.split(" ").map(at);C(b),C(g),h.props=h.refMap.get(b),h.renderQrl=h.refMap.get(g)}m&&m.split(" ").map(b=>{const[g,f]=b.split("=");h.contexts||(h.contexts=new Map),h.contexts.set(g,h.refMap.get(at(f)))})}),t.setAttribute(ht,"resumed"),Z("Container resumed"),Wn(t,"qresume",void 0,!0)}function jn(t){const e=A(t),n=Nt(e),o=nt(e),r=new Map,i=Xn(e,n);Mt(t,Fe).forEach(f=>{const l=w(f),E=l.listeners&&l.listeners.size>0,O=l.refMap.array.some(zn),T=!!l.contexts;(E||O||T)&&Kt(f,i)});const s=Array.from(i.objSet);function c(f){const l=n.get(f);return l?l[j].size>0:!1}s.sort((f,l)=>{const E=c(f)?0:1,O=c(l)?0:1;return E-O});const u=new Map;let a=0;for(const f of s)jt(f)&&(xe(f),f.f&k.IsDirty&&R("Serializing dirty watch. Looks like an internal error."),_t(f)||R("Serializing disconneted watch. Looks like an internal error.")),u.set(f,a),a++;function d(f){let l=r.get(f);return l===void 0&&(f.isConnected?(l=V(r.size),f.setAttribute(zt,l),l=Wt+l):l=null,r.set(f,l)),l}function p(f){if(f!==null&&typeof f=="object"){const l=f[D],E=u.get(G(l!=null?l:f,e));if(E!==void 0){const O=l?"!":"";return V(E)+O}if(!l&&Et(f))return f.nodeType===1?d(f):(I("Can not serialize a HTML Node that is not an Element",f),null)}else{const l=u.get(G(f,e));if(l!==void 0)return V(l)}return null}const _=s.map(f=>{var E;const l=(E=n.get(f))==null?void 0:E[j];return l&&l.size>0?Object.fromEntries(Array.from(l.entries()).map(([O,T])=>{const rt=p(O);return rt!==null?[rt,T?Array.from(T):null]:[void 0,void 0]})):null}).filter(f=>!!f),m=f=>{var l;return(l=p(f))!=null?l:f},h={platform:o,getObjId:p},b=s.map(f=>{if(Array.isArray(f))return f.map(m);if(f&&typeof f=="object"){if($(f))return qe+ie(f,h);const l={};return Object.entries(f).forEach(([E,O])=>{l[E]=m(O)}),l}return f}),g=[];return i.elements.forEach(f=>{const l=w(f);C(l);const E=l.props,O=l.contexts,T=l.renderQrl,rt=l.refMap.array.map(N=>{const P=p(N);return C(P),P}).join(" ");f.setAttribute(B,rt);const cn=l.seq.map(N=>V(N)).join(" ");if(f.setAttribute(Pe,cn),E){const N=[E];T&&N.push(T),f.setAttribute(Q,N.map(P=>l.refMap.indexOf(P)).join(" "))}if(l.listeners&&l.listeners.forEach((N,P)=>{N.forEach(It=>{g.push({key:P,qrl:It})})}),O){const N=[];O.forEach((P,It)=>{N.push(`${It}=${l.refMap.indexOf(P)}`)}),f.setAttribute($t,N.join(" "))}}),r.forEach((f,l)=>{A(l)!==e&&R("element from different document",f,l.tagName),f||R("unconnected element",l.tagName,`
`)}),{state:{objs:b,subs:_},objs:s,listeners:g}}function Hn(t){let e=t.lastElementChild;for(;e;){if(e.tagName==="SCRIPT"&&e.getAttribute("type")==="qwik/json")return e;e=e.previousElementSibling}}function Mt(t,e){const n=[];return ve(n,t,e),n}function ve(t,e,n){let o=e.firstElementChild;for(;o;)$e(o)||(n(o)&&t.push(o),ve(t,o,n)),o=o.nextElementSibling}function Kn(t,e,n,o,r){for(let i=0;i<t.length;i++){const s=t[i];if(typeof s=="string")s===Le?t[i]=void 0:s===De?t[i]=A(r):s.startsWith(qe)&&(t[i]=se(s.slice(1),r));else{const c=e[i];if(c){const u=new Map;Object.entries(c).forEach(a=>{const d=n(a[0]);if(!d){R("QWIK can not revive subscriptions because of missing element ID",a,s);return}const p=a[1]===null?null:new Set(a[1]);u.set(d,p)}),Go(s,o,u)}}}}function Tt(t,e){if(t&&typeof t=="object"){if($(t)){t.capture&&t.capture.length>0&&(t.captureRef=t.capture.map(e),t.capture=null);return}else if(Array.isArray(t))for(let n=0;n<t.length;n++){const o=t[n];typeof o=="string"?t[n]=e(o):Tt(o,e)}else if(Object.getPrototypeOf(t)===Object.prototype){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];typeof o=="string"?t[n]=e(o):Tt(o,e)}}}}function Vn(t,e,n,o){var c;if(t.startsWith(Wt))return x(e.has(t),!0),e.get(t);const r=at(t);x(n.length>r,!0);const i=n[r];return t.endsWith("!")?(c=o.get(i))!=null?c:ot(i,o):i}function G(t,e){var n;return t===e?De:t===void 0||!oe(t)?Le:t&&typeof t=="object"&&(n=t[D])!=null?n:t}function Ht(t,e){xt(t,e)||e.objSet.add(G(t,e.doc))}function Xn(t,e){return{seen:new Set,objSet:new Set,elements:[],proxyMap:e,doc:t}}function Jn(t,e){if(e.seen.has(t))return!0;e.seen.add(t),e.objSet.add(G(t,e.doc)),t.captureRef&&t.captureRef.forEach(n=>Ht(n,e))}function Kt(t,e){var o;if(e.seen.has(t))return;e.seen.add(t);const n=(o=wt(t))==null?void 0:o.refMap.array;n&&(e.elements.push(t),n.forEach(r=>{Ht(r,e)}))}function Bn(t){return t.replace(/<(\/?script)/g,"\\x3C$1")}function Gn(t){return t.replace(/\\x3C(\/?script)/g,"<$1")}function Yn(t,e){e.seen.has(t)||(e.seen.add(t),Array.from(t.keys()).forEach(n=>{St(n)?Kt(n,e):Ht(n,e)}))}function xt(t,e){if(t!=null){if(typeof t=="object"){const n=!!t[D];if(!n&&Et(t))return t.nodeType===1?(Kt(t,e),!0):!1;if($(t))return Jn(t,e),!0;const o=n?t:e.proxyMap.get(t),r=o==null?void 0:o[j];r&&Yn(r,e),t=G(t,e.doc)}if(typeof t=="object"){if(e.seen.has(t))return!0;if(e.seen.add(t),e.objSet.add(t),Array.isArray(t))for(let n=0;n<t.length;n++)xt(t[n],e);else for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&xt(t[n],e);return!0}if(typeof t=="string")return e.objSet.add(t),!0}return!1}function $e(t){return t.hasAttribute(ht)}function Fe(t){return t.hasAttribute(B)}function Zn(t){return t.hasAttribute(zt)}const V=t=>t.toString(36),at=t=>parseInt(t,36);function Qn(t){const e=[];let n=t.hasAttribute(B);return{array:e,get(o){return e[o]},indexOf(o){const r=e.indexOf(o);return r===-1?void 0:r},add(o){const r=e.indexOf(o);return r===-1?(e.push(o),n||(t.setAttribute(B,""),n=!0),e.length-1):r}}}function Vt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function ye(t){return t!=null&&typeof t=="object"?String(t.constructor.name)+`
`+to(t):String(t)}function to(t){try{return JSON.stringify(t,null,"  ")}catch(e){return String(e)}}const eo=/^(window:|document:|)on([A-Z]|-.).*Qrl$/,no=/^(window:|document:|)on([A-Z]|-.).*\$$/;function oo(t){return eo.test(t)}function ro(t){return no.test(t)}function io(t,e,n,o){if(!o)return;e.listeners||(e.listeners=so(e.element));const r=Vt(n),i=e.listeners.get(r)||[],s=Array.isArray(o)?o:[o];for(const u of s){const a=u.copy();if(a.setContainer(e.element),a.capture==null){const p=a.captureRef;a.capture=p&&p.length?p.map(_=>Dn(_,e)):v}for(let p=0;p<i.length;p++){const _=i[p];Nn(_,a)&&(i.splice(p,1),p--)}i.push(a)}e.listeners.set(r,i);const c=co(i,e);e.element.getAttribute(r)!==c&&(t?q(t,e.element,r,c):e.element.setAttribute(r,c))}function so(t){const e=t.attributes,n=new Map;for(let o=0;o<e.length;o++){const r=e.item(o);if(r.name.startsWith("on:")||r.name.startsWith("on-window:")||r.name.startsWith("on-document:")){let i=n.get(r.name);i||n.set(r.name,i=[]),i.push(se(r.value,t))}}return n}function co(t,e){const n=nt(A(e.element)),o=e.element,r={platform:n,element:o};return t.map(i=>Ut(i)?"":ie(i,r)).filter(i=>!!i).join(`
`)}function uo(t){const e=A(t),n=Pt(t)?t.documentElement:t,o=Pt(t)?t.body:n,r=jn(n),i=e.createElement("script");return i.setAttribute("type","qwik/json"),i.textContent=Bn(JSON.stringify(r.state,void 0,"  ")),o.appendChild(i),n.setAttribute(ht,"paused"),r}Error.stackTraceLimit=9999;const Xt="__ctx__";function ze(t){t.getAttribute(ht)==="paused"&&(Un(t),ao(t))}function ao(t){t.qwik={pause:()=>uo(t),renderState:te(t)}}function wt(t){return t[Xt]}function w(t){let e=wt(t);if(!e){const n=new Map;t[Xt]=e={element:t,cache:n,refMap:Qn(t),dirty:!1,seq:[],props:void 0,renderQrl:void 0,component:void 0}}return e}function fo(t){const e=t.element;t.refMap.array.forEach(n=>{jt(n)&&n.el===e&&xe(n),t.component=void 0,t.renderQrl=void 0,t.seq=[],t.cache.clear(),t.dirty=!1,t.refMap.array.length=0}),e[Xt]=void 0}const me=["document:on","window:on","on"],lo=["on-document","on-window","on"];function po(t){let e="on";for(let n=0;n<me.length;n++){const o=me[n];t.startsWith(o)&&(e=lo[n],t=t.slice(o.length))}return t.startsWith("-")?t=t.slice(1):t=t.toLowerCase(),`${e}:${t}`}function _e(t,e,n,o){io(t,e,po(n),o)}function We(t){return t.props||(t.props=ot({},Nt(A(t.element))),t.refMap.add(t.props)),t.props}const Jt={__brand__:"host"},Ot={__brand__:"skip"};function yo(t,e,n,o){return n===void 0?W(t,e,[],"root",o):Array.isArray(n)?W(t,e,n.flat(),"root",o):n.type===Jt?(Yt(t,w(e),n.props,o),W(t,e,n.children||[],"root",o)):W(t,e,[n],"root",o)}function mo(t,e=0){if(t.length===0)return e;for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);e=(e<<5)-e+o,e|=0}return Number(Math.abs(e)).toString(36)}function _o(t){return t&&String(mo(t.getCanonicalSymbol()))}function ho(t){return t&&hn+t}function go(t){return t&&gn+t}function Lt(t,e,n){return new ft(t,e,n)}class ft{constructor(e,n,o=null){if(this.type=e,this.props=n,this.children=v,this.text=void 0,this.key=null,o!=null&&(this.key=String(o)),n){const r=lt(n.children);r!==void 0&&(Array.isArray(r)?this.children=r:this.children=[r])}}}function lt(t){if(!(t==null||typeof t=="boolean")){if(bo(t))return t.type===Jt||t.type===Ot?t:typeof t.type=="function"?lt(t.type(it(H({},t.props),{children:t.children}),t.key)):t;if(Array.isArray(t))return t.flatMap(lt).filter(e=>e!=null);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"){const e=new ft("#text",null,null);return e.text=String(t),e}else{R("Unvalid node, skipping");return}}}const bo=t=>{{if(t instanceof ft)return!0;if(t&&typeof t=="object"&&t.constructor.name===ft.name)throw new Error('Duplicate implementations of "JSXNodeImpl" found');return!1}},dr=t=>t.children,Eo=(t,e)=>(e.element.setAttribute(Q,""),At(t,e)),At=(t,e)=>{e.dirty=!1;const n=e.element,o=e.renderQrl;C(o),t.globalState.hostsStaging.delete(n);const r=it(H({},t),{components:[...t.components]}),i=gt(t.doc,n,n,Ft);i.subscriber=n,i.renderCtx=r;const s=i.waitOn=[];e.refMap.array.forEach(u=>{Qe(u,n)});const c=o.invokeFn(t.containerEl,i);try{const u=c(Y(We(e),n));return S(u,a=>{t.hostElements.add(n);const d=tt(s);return S(d,p=>{var m;if(p.forEach(h=>{Sn(h)&&$o(t,n,h)}),typeof a=="function")e.dirty=!1,a=a();else if(e.dirty)return Z("Dropping render. State changed during render."),At(t,e);let _=e.component;if(!_){_=e.component={hostElement:n,slots:[],styleHostClass:void 0,styleClass:void 0,styleId:void 0};const h=(m=n.getAttribute(ke))!=null?m:void 0;h&&(_.styleId=h,_.styleHostClass=ho(h),_.styleClass=go(h),n.classList.add(_.styleHostClass))}return _.slots=[],r.components.push(_),yo(r,n,lt(a),!1)})},a=>{I(a)})}catch(u){I(u)}},So="http://www.w3.org/2000/svg";function W(t,e,n,o,r){if(n.length===1&&n[0].type===Ot){if(e.firstChild!==null)return;n=n[0].children}const i=Bt(e,o);if(i.length>0&&n.length>0)return Ro(t,e,i,n,r);if(n.length>0)return He(t,e,void 0,n,0,n.length-1,r);if(i.length>0)return Gt(t,e,i,0,i.length-1)}function Ro(t,e,n,o,r){let i=0,s=0,c=n.length-1,u=n[0],a=n[c],d=o.length-1,p=o[0],_=o[d],m,h,b;const g=[];for(;i<=c&&s<=d;)if(u==null)u=n[++i];else if(a==null)a=n[--c];else if(p==null)p=o[++s];else if(_==null)_=o[--d];else if(ut(u,p))g.push(K(t,u,p,r)),u=n[++i],p=o[++s];else if(ut(a,_))g.push(K(t,a,_,r)),a=n[--c],_=o[--d];else if(ut(u,_))g.push(K(t,u,_,r)),F(t,e,u,a.nextSibling),u=n[++i],_=o[--d];else if(ut(a,p))g.push(K(t,a,p,r)),F(t,e,a,u),a=n[--c],p=o[++s];else{if(m===void 0&&(m=Ho(n,i,c)),h=m[p.key],h===void 0){const l=dt(t,p,r);g.push(S(l,E=>{F(t,e,E,u)}))}else if(b=n[h],b.nodeName!==p.type){const l=dt(t,p,r);g.push(S(l,E=>{F(t,e,E,u)}))}else g.push(K(t,b,p,r)),n[h]=void 0,F(t,e,b,u);p=o[++s]}if(s<=d){const l=o[d+1]==null?void 0:o[d+1].elm;g.push(He(t,e,l,o,s,d,r))}let f=tt(g);return i<=c&&(f=S(f,()=>{Gt(t,e,n,i,c)})),f}function Ue(t){return t.props&&J in t.props}function st(t){return Array.from(t.childNodes).filter(Co)}function Bt(t,e){switch(e){case"default":return st(t);case"slot":return st(t).filter(Oo);case"root":return st(t).filter(je);case"fallback":return st(t).filter(wo)}}function Co(t){const e=t.nodeType;return e===1||e===3||e===8}function wo(t){return t.nodeName==="Q:FALLBACK"}function Oo(t){return t.nodeName!=="Q:FALLBACK"&&je(t)}function Ao(t){return t.nodeName==="TEMPLATE"&&t.hasAttribute(vt)}function je(t){return t.nodeName!=="TEMPLATE"||!t.hasAttribute(vt)}function No(t,e){var o;const n={};for(const r of t){const i=e(r);((o=n[i])!=null?o:n[i]=[]).push(r)}return n}function K(t,e,n,o){t.perf.visited++,n.elm=e;const r=n.type;if(r==="#text"){e.data!==n.text&&U(t,e,"data",n.text);return}if(r==="#comment"){e.data!==n.text&&U(t,e,"data",n.text);return}if(r===Jt||r===Ot)return;o||(o=r==="svg");let i;const s=n.props,c=w(e),u=Yt(t,c,s,o),a=r==="q:slot";if(o&&n.type==="foreignObject")o=!1;else if(a){const m=t.components.length>0?t.components[t.components.length-1]:void 0;m&&m.slots.push(n)}const d=Ue(n);u&&(i=At(t,c));const p=n.children;if(d)return S(i,()=>{const m=pt(c.component,e),h=No(p,Xe),b=[];return Object.entries(m.slots).forEach(([g,f])=>{if(f&&!h[g]){const l=Bt(f,"slot");l.length>0&&Gt(t,f,l,0,l.length-1)}}),Object.entries(m.templates).forEach(([g,f])=>{f&&!h[g]&&(Zt(t,f),m.templates[g]=void 0)}),Object.entries(h).forEach(([g,f])=>{const l=Ke(t,m,e,g);b.push(W(t,l,f,"slot",o))}),S(tt(b),()=>{Po(t,m)})});if(Ge(s)){p.length>0&&R("Node can not have children when innerHTML is set");return}return S(i,()=>W(t,e,p,a?"fallback":"default",o))}function He(t,e,n,o,r,i,s){const c=[];for(;r<=i;++r){const u=o[r];C(u),c.push(dt(t,u,s))}return S(tt(c),u=>{for(const a of u)F(t,e,a,n)})}function Gt(t,e,n,o,r){for(;o<=r;++o){const i=n[o];C(i),Zt(t,i)}}let Io=0;const he=Symbol();function ko(t,e,n){var r;let o=(r=e[he])!=null?r:e.getAttribute("q:sref");o===null&&(o=V(Io++),e[he]=o,q(t,e,"q:sref",o)),n.setAttribute("q:sref",o)}function Ke(t,e,n,o){const r=e.slots[o];if(r)return r;const i=e.templates[o];if(i)return i.content;const s=Ve(t,o);return Fo(t,n,s),e.templates[o]=s,s.content}function Ve(t,e){const n=Je(t,"template",!1);return n.setAttribute(vt,e),n}function Po(t,e){Object.keys(e.templates).forEach(n=>{const o=e.templates[n];o&&e.slots[n]!==void 0&&(Zt(t,o),e.templates[n]=void 0)})}function Mo(t,e,n,o){Object.entries(n.slots).forEach(([r,i])=>{if(i&&!o.slots[r]){const s=Ve(t,r),c=Bt(i,"slot");s.content.append(...c),e.insertBefore(s,e.firstChild),t.operations.push({el:s,operation:"slot-to-template",args:c,fn:()=>{}})}}),Object.entries(o.slots).forEach(([r,i])=>{if(i&&!n.slots[r]){const s=n.templates[r];s&&(i.appendChild(s.content),s.remove(),t.operations.push({el:i,operation:"template-to-slot",args:[s],fn:()=>{}}))}})}function Xe(t){var e,n;return(n=(e=t.props)==null?void 0:e["q:slot"])!=null?n:""}function dt(t,e,n){t.perf.visited++;const o=e.type;if(o==="#text")return e.elm=zo(t,e.text);if(o==="#comment")return e.elm=Wo(t,e.text);n||(n=o==="svg");const r=e.props,i=e.elm=Je(t,o,n),s=Ue(e),c=w(i);Ko(i,e.key),Yt(t,c,r,n),n&&o==="foreignObject"&&(n=!1);const u=t.components.length>0?t.components[t.components.length-1]:void 0;if(u){const d=u.styleClass;d&&vo(t,i,d),o==="q:slot"&&(ko(t,u.hostElement,i),u.slots.push(e))}let a;if(s){const d=r[J];c.renderQrl=d,c.refMap.add(d),a=Eo(t,c)}else if(Ge(r))return e.children.length>0&&R("Node can not have children when innerHTML is set"),i;return S(a,()=>{let d=e.children;if(d.length>0){d.length===1&&d[0].type===Ot&&(d=d[0].children);const p=s?pt(c.component,i):void 0,_=d.map(m=>dt(t,m,n));return S(tt(_),()=>{let m=i;for(const h of d)p&&(m=Ke(t,p,i,Xe(h))),m.appendChild(h.elm);return i})}return i})}const pt=(t,e)=>{var u,a,d,p,_;const n={},o={},r=e.getAttribute("q:sref"),i=Array.from(e.querySelectorAll(`q\\:slot[q\\:sref="${r}"]`)),s=(u=t==null?void 0:t.slots)!=null?u:v,c=Array.from(e.children).filter(Ao);for(const m of i)n[(a=m.getAttribute("name"))!=null?a:""]=m;for(const m of s)n[(p=(d=m.props)==null?void 0:d.name)!=null?p:""]=m.elm;for(const m of c)o[(_=m.getAttribute("q:slot"))!=null?_:""]=m;return{slots:n,templates:o}},To=(t,e,n,o)=>(q(t,e,"style",Ye(o,!1)),!0),ge=(t,e,n,o)=>(q(t,e,"class",Ye(o,!0)),!0),be=(t,e,n,o)=>(n in e&&e[n]!==o&&U(t,e,n,o),!0),yt="dangerouslySetInnerHTML",xo=(t,e,n,o)=>(yt in e?U(t,e,yt,o):"innerHTML"in e&&U(t,e,"innerHTML",o),!0),Lo={style:To,class:ge,className:ge,value:be,checked:be,[yt]:xo},qo=["class","className","style","id","q:slot"],ct="host:",Do=/^(host|window|document):/;function Yt(t,e,n,o){if(!n)return!1;const r=e.element,i=J in n?We(e):void 0;for(let s of Object.keys(n)){if(s==="children"||s===J)continue;const c=n[s];if(s==="ref"){c.current=r;continue}const u=e.cache.get(s);if(c===u)continue;if(e.cache.set(s,c),s.startsWith("data-")||s.startsWith("aria-")){q(t,r,s,c);continue}if(i){const d=qo.includes(s),p=Do.test(s);if(!d&&!p){i[s]=c;continue}s.startsWith(ct)&&(s=s.slice(ct.length))}else if(s.startsWith(ct)){R(`${ct} prefix can not be used in non components`);continue}if(oo(s)){_e(t,e,s.slice(0,-3),c);continue}if(ro(s)){_e(t,e,s.slice(0,-1),Ln(c));continue}const a=Lo[s];if(!(a&&a(t,r,s,c,u))){if(!o&&s in r){U(t,r,s,c);continue}q(t,r,s,c)}}return e.dirty}function q(t,e,n,o){const r=()=>{o==null?e.removeAttribute(n):e.setAttribute(n,String(o))};t.operations.push({el:e,operation:"set-attribute",args:[n,o],fn:r})}function vo(t,e,n){const o=()=>{e.classList.add(n)};t.operations.push({el:e,operation:"classlist-add",args:[n],fn:o})}function U(t,e,n,o){const r=()=>{try{e[n]=o}catch(i){I("Set property",{node:e,key:n,value:o},i)}};t.operations.push({el:e,operation:"set-property",args:[n,o],fn:r})}function Je(t,e,n){const o=n?t.doc.createElementNS(So,e):t.doc.createElement(e);return o[kt]=t.containerEl,t.operations.push({el:o,operation:"create-element",args:[e],fn:()=>{}}),o}function F(t,e,n,o){const r=()=>{e.insertBefore(n,o||null)};return t.operations.push({el:e,operation:"insert-before",args:[n,o],fn:r}),n}function $o(t,e,n){const o=()=>{var s;const r=t.containerEl,i=t.doc.documentElement===r&&(s=t.doc.head)!=null?s:r;if(!i.querySelector(`style[q\\:style="${n.styleId}"]`)){const c=t.doc.createElement("style");c.setAttribute("q:style",n.styleId),c.textContent=n.content,i.insertBefore(c,i.firstChild)}};t.operations.push({el:e,operation:"append-style",args:[n],fn:o})}function Fo(t,e,n){const o=()=>{e.insertBefore(n,e.firstChild)};t.operations.push({el:e,operation:"prepend",args:[n],fn:o})}function Zt(t,e){const n=()=>{const o=e.parentNode;o?(e.nodeType===1&&(Ee(e),e.querySelectorAll(bn).forEach(Ee)),o.removeChild(e)):R("Trying to remove component already removed",e)};t.operations.push({el:e,operation:"remove",args:[],fn:n})}function Ee(t){const e=wt(t);e&&fo(e)}function zo(t,e){return t.doc.createTextNode(e)}function Wo(t,e){return t.doc.createComment(e)}function Uo(t){const e=t.roots.map(o=>pt(void 0,o));jo(t);const n=t.roots.map(o=>pt(void 0,o));x(e.length,n.length);for(let o=0;o<e.length;o++)Mo(t,t.roots[o],e[o],n[o])}function jo(t){for(const e of t.operations)e.fn()}function Se(t){var r;const e={};for(const i of t.operations)e[i.operation]=((r=e[i.operation])!=null?r:0)+1;const n=Array.from(new Set(t.operations.map(i=>i.el))),o={byOp:e,roots:t.roots,hostElements:Array.from(t.hostElements),affectedElements:n,visitedNodes:t.perf.visited,operations:t.operations.map(i=>[i.operation,i.el,...i.args])};return Z("Render stats",o),o}function Ho(t,e,n){const o={};for(let r=e;r<=n;++r){const i=t[r];if(i.nodeType==L.ELEMENT_NODE){const s=Be(i);s!==void 0&&(o[s]=r)}}return o}const qt=Symbol("vnode key");function Be(t){let e=t[qt];return e===void 0&&(e=t[qt]=t.getAttribute("q:key")),e}function Ko(t,e){typeof e=="string"&&t.setAttribute("q:key",e),t[qt]=e}function ut(t,e){return t.nodeName.toLowerCase()===e.type?t.nodeType!==L.ELEMENT_NODE?!0:Be(t)===e.key:!1}function Ge(t){return t&&("innerHTML"in t||yt in t)}function Ye(t,e){if(t==null)return"";if(typeof t=="object"){let n="",o="";if(Array.isArray(t)){if(!e)throw Me(y.Render_unsupportedFormat_obj_attr,t,"style");for(let r=0;r<t.length;r++)n+=o+t[r],o=" "}else for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];i&&(n+=e?i?o+r:"":o+Vt(r)+":"+i,o=e?" ":";")}return n}return String(t)}function Vo(t){C(t.getAttribute(Q));const e=bt(t);C(e),ze(e);const n=w(t),o=te(e);return n.dirty?o.renderPromise:(n.dirty=!0,o.hostsRendering!==void 0?(o.hostsStaging.add(t),o.renderPromise.then(i=>o.hostsNext.has(t)?o.renderPromise:i)):(o.hostsNext.add(t),Qt(e,o)))}function Qt(t,e){return e.renderPromise===void 0&&(e.renderPromise=nt(t).nextTick(()=>Xo(t,e))),e.renderPromise}const Re=Symbol("Render state");function te(t){let e=t[Re];return e||(t[Re]=e={watchNext:new Set,watchStaging:new Set,watchRunning:new Set,hostsNext:new Set,hostsStaging:new Set,renderPromise:void 0,hostsRendering:void 0}),e}async function Xo(t,e){await Qo(e),e.hostsRendering=new Set(e.hostsNext),e.hostsNext.clear();const n=A(t),o=nt(t),r=Array.from(e.hostsRendering);Jo(r);const i={doc:n,globalState:e,hostElements:new Set,operations:[],roots:[],containerEl:t,components:[],perf:{visited:0,timing:[]}};for(const s of r)if(!i.hostElements.has(s)){i.roots.push(s);try{await At(i,w(s))}catch(c){I("Render failed",c,s)}}return i.operations.length===0?(typeof window!="undefined"&&window.document!=null&&(Z("Render stats. No operations."),Se(i)),Ce(t,e,i),i):o.raf(()=>(Uo(i),typeof window!="undefined"&&window.document!=null&&Se(i),Ce(t,e,i),i))}async function Ce(t,e,n){const o=[];e.watchNext.forEach(r=>{o.push(pe(r))}),e.watchNext.clear(),e.watchStaging.forEach(r=>{n.hostElements.has(r.el)?o.push(pe(r)):e.watchNext.add(r)}),e.watchStaging.clear(),await Promise.all(o),e.hostsStaging.forEach(r=>{e.hostsNext.add(r)}),e.hostsStaging.clear(),e.watchStaging.forEach(r=>{e.watchNext.add(r)}),e.watchStaging.clear(),e.hostsRendering=void 0,e.renderPromise=void 0,e.hostsNext.size+e.watchNext.size>0&&Qt(t,e)}function Jo(t){t.sort((e,n)=>e.compareDocumentPosition(n)&2?1:-1)}const we=Symbol("ProxyMapSymbol");function Nt(t){let e=t[we];return e||(e=t[we]=new WeakMap),e}function Bo(t,e){if(x(ne(t),t,"Unexpected proxy at this location"),t==null||typeof t!="object")throw new Error("Q-ERROR: Only objects can be wrapped in 'QObject', got "+ye(t));if(t.constructor!==Object)throw new Error("Q-ERROR: Only objects literals can be wrapped in 'QObject', got "+ye(t));return ot(t,e)}function Go(t,e,n){return ot(t,e,n)}function ot(t,e,n){if(!t||typeof t!="object")return t;let o=e.get(t);return o||(o=new Proxy(t,new Zo(e,n)),e.set(t,o),o)}const D=":target:",Ze=":all:",j=":subs:",ee=":proxy:",mt=Symbol("SetSubscriber");function ne(t){if(t&&typeof t=="object"){const e=t[D];if(e)return e}return t}function Yo(t,e){if(t&&typeof t=="object"){if($(t)||Object.isFrozen(t))return t;const n=ne(t);if(n!==t||Et(n)||!oe(n))return t;en(t);const o=e.get(t);return o||ot(t,e)}else return t}class Zo{constructor(e,n=new Map){this.proxyMap=e,this.subs=n}getSub(e){let n=this.subs.get(e);return n===void 0&&this.subs.set(e,n=new Set),n}get(e,n){let o=this.subscriber;if(this.subscriber=void 0,typeof n=="symbol")return e[n];if(n===D)return e;if(n===j)return this.subs;if(n===ee)return this.proxyMap.get(e);const r=X();if(r&&(r.subscriber===null?o=void 0:o||(o=r.subscriber)),n===Ze)return o&&this.subs.set(o,null),e;const i=e[n];if(typeof n=="symbol")return i;if(o)if(Array.isArray(e))this.subs.set(o,null);else{const c=this.getSub(o);c&&c.add(n)}return Yo(i,this.proxyMap)}set(e,n,o){if(typeof n=="symbol")return n===mt?this.subscriber=o:e[n]=o,!0;const r=this.subs,i=ne(o);{en(i);const u=X();u&&u.event===Ft&&R("State mutation inside render function. Move mutation to useWatch(), useClientEffect() or useServerMount()",u.hostElement,n)}return Array.isArray(e)?(e[n]=i,r.forEach((u,a)=>{_t(a)?Oe(a):r.delete(a)}),!0):(e[n]!==i&&(e[n]=i,r.forEach((u,a)=>{_t(a)?(u===null||u.has(n))&&Oe(a):r.delete(a)})),!0)}has(e,n){return n===D||n===j?!0:Object.prototype.hasOwnProperty.call(e,n)}ownKeys(e){let n=this.subscriber;const o=X();return o&&(o.subscriber===null?n=void 0:n||(n=o.subscriber)),n&&this.subs.set(n,null),Object.getOwnPropertyNames(e)}}function Qe(t,e){if(t&&typeof t=="object"){const n=t[j];n&&n.delete(e)}}function Oe(t){St(t)?Vo(t):tn(t)}function tn(t){const e=bt(t.el),n=te(e);t.f|=k.IsDirty,n.hostsRendering!==void 0?n.watchStaging.add(t):(n.watchNext.add(t),Qt(e,n))}async function Qo(t){for(;t.watchRunning.size>0;)await Promise.all(t.watchRunning)}function en(t){if(t==null)return null;if(oe(t)){const e=typeof t;if(e==="object"&&(Array.isArray(t)||Object.getPrototypeOf(t)===Object.prototype||$(t)||St(t)||Pt(t))||["boolean","string","number"].includes(e))return;throw Me(y.TODO,"Only primitive and object literals can be serialized",t)}}const nn=new WeakSet;function oe(t){return t!==null&&(typeof t=="object"||typeof t=="function")?!nn.has(t):!0}function Ae(t){return nn.add(t),t}function pr(t){return Object.freeze(t)}function _t(t){return St(t)?!!wt(t):_t(t.el)}function Y(t,e){return t&&typeof t=="object"&&t[D]?new Proxy(t,{get(o,r){return r===ee?o:(o[mt]=e,o[r])},ownKeys(o){return o[mt]=e,Reflect.ownKeys(o)}}):t}function on(t){if(t&&typeof t=="object"){const e=t[ee];if(e)return e}return t}let tr=0;const re="/runtimeQRL",er=/\(\s*(['"])([^\1]+)\1\s*\)/,nr=/Promise\s*\.\s*resolve/,or=/[\\/(]([\w\d.\-_]+\.(js|ts)x?):/;function rn(t){return x($(t),!0),t}function rr(t,e){const n=rn(e);if(n.symbolRef)return n.symbolRef;if(n.symbolFn)return n.symbolRef=n.symbolFn().then(o=>n.symbolRef=o[n.symbol]);{if(!t)throw new Error(`QRL '${n.chunk}#${n.symbol||"default"}' does not have an attached container`);const o=nt(A(t)).importSymbol(t,n.chunk,n.symbol);return n.symbolRef=S(o,r=>n.symbolRef=r)}}function yr(t,e,n=v){let o,r=null;if(typeof t=="string")o=t;else if(typeof t=="function"){r=t;let c;const u=String(t);if((c=u.match(er))&&c[2])o=c[2];else if(c=u.match(nr)){const a="QWIK-SELF",d=new Error(a).stack.split(`
`),p=d.findIndex(m=>m.includes(a));c=d[p+2].match(or),c?o=c[1]:o="main"}else throw new Error("Q-ERROR: Dynamic import not found: "+u)}else throw new Error("Q-ERROR: Unknown type argument: "+t);ir(n);const i=new et(o,e,null,r,null,n),s=X();return s&&s.element&&i.setContainer(s.element),i}function sn(t,e=v){return new et(re,"s"+tr++,t,null,null,e)}function ir(t){if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=on(t[e]);return t}function ie(t,e={}){var _;const n=rn(t);let o=n.symbol,r=n.chunk;const i=(_=n.refSymbol)!=null?_:o,s=e.platform,c=e.element;if(s){const m=s.chunkForSymbol(i);m&&(r=m[1],n.refSymbol||(o=m[0]))}const u=[r];o&&o!=="default"&&u.push("#",o);const a=n.capture,d=n.captureRef;if(e.getObjId){if(d&&d.length){const m=d.map(e.getObjId);u.push(`[${m.join(" ")}]`)}}else a&&a.length>0&&u.push(`[${a.join(" ")}]`);const p=u.join("");return n.chunk===re&&c&&(c.__qrls__||(c.__qrls__=new Set)).add(t),p}function se(t,e){const n=t.length,o=Ne(t,0,"#"),r=Ne(t,o,"["),i=Math.min(o,r),s=t.substring(0,i),c=o==n?o:o+1,u=r,a=c==u?"default":t.substring(c,u),d=r,p=n,_=d===p?v:t.substring(d+1,p-1).split(" ");s===re&&I(`Q-ERROR: '${t}' is runtime but no instance found on element.`);const m=new et(s,a,null,null,_,null);return e&&m.setContainer(e),m}function Ne(t,e,n){const o=t.length,r=t.indexOf(n,e==o?0:e);return r==-1?o:r}function sr(t){if(!$(t))if(typeof t=="function"||typeof t=="string")t=sn(t);else throw new Error("Q-ERROR Only 'function's and 'string's are supported.");return t}function mr(t){cr(t,!0)}function _r(t,e={}){var o;const n=(o=e.tagName)!=null?o:"div";return function(i,s){const c=t.getCanonicalSymbol()+":"+(s||"");return Lt(n,H({[J]:t},i),c)}}function cr(t,e){const[n,o]=Ct();if(n===!0)return;o(!0);const r=sr(t),i=_o(r),s=Rt();e&&s.setAttribute(ke,i),Cn(r.resolve(s).then(c=>({type:"style",styleId:i,content:e?c.replace(/�/g,i):c})))}const hr=t=>{const n=t.children||Array.isArray(t.children)&&t.children.length>0?Lt("q:fallback",{children:t.children}):[];return Lt("q:slot",{name:t.name,children:n},t.name)};function gr(t){return Object.freeze({id:Vt(t)})}function br(t,e){const[n,o]=Ct();if(!n){const r=M(),i=r.hostElement,s=r.renderCtx,c=w(i);let u=c.contexts;u||(c.contexts=u=new Map),e=on(e),u.set(t.id,e);const a=[];u.forEach((d,p)=>{a.push(`${p}=${c.refMap.indexOf(d)}`)}),q(s,i,$t,a.join(" ")),o(e)}}function Er(t){const e=ur(t);return Y(e,Rt())}function ur(t){const[e,n]=Ct();if(!e){const o=M();let r=o.hostElement;const i=o.renderCtx.components;for(let c=i.length-1;c>=0;c--){r=i[c].hostElement;const u=w(i[c].hostElement);if(u.contexts){const a=u.contexts.get(t.id);if(a)return n(a),a}}const s=r.closest(`[q\\:ctx*="${t.id}="]`);if(s){const c=w(s).contexts.get(t.id);if(c)return n(c),c}throw new Error(`not found state for useContext: ${t.id}`)}return e}export{dr as Fragment,Jt as Host,hr as Slot,mn as __vitePreload,_r as componentQrl,gr as createContext,lr as handleWatch,pr as immutable,Lt as jsx,Ae as noSerialize,yr as qrl,Er as useContext,br as useContextProvider,qn as useDocument,Fn as useLexicalScope,mr as useScopedStylesQrl,fr as useStore,Cn as useWaitOn};
